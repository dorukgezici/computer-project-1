<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='style-1.css') }}" />
</head>

<body  class="column purple">
<div id="container">

 <h2 id="currentQst"></h2>
 <h3 id="quiz"></h3>
 <h3 id="answer"></h3>

</div>

<script>

var i = 0, index, choice, correct = 0;

var questions = [
    [ "What is 8+6?", "12", "14", "16", "B" ],
    [ "What is 20 - 9?", "7", "13", "11", "C" ],
    [ "What is 7 x 3?", "21", "24", "25", "A" ],
    [ "What is 8 / 2?", "10", "2", "4", "C" ],
    [ "What is 8 ^ 2?", "8", "2", "64", "C" ]
];
var orderQst = [];

function shuffleQuestion() {
  orderQst.length = 0;
  for (var i=0; i<questions.length; i++) { orderQst.push(i); }
  orderQst.sort(shuffleRand);     // change question order
  i = 0;  index = orderQst[i];
}

function $_GET(IDS) { return document.getElementById(IDS); }
function shuffleRand() { return (Math.round(Math.random())-0.5); }

function renderQuestion() {
  var quiz = $_GET("quiz");
  $_GET("currentQst").innerHTML = "Question "+(i+1)+" of "+questions.length;
  var question = questions[index][0];
  var choiceA = questions[index][1];
  var choiceB = questions[index][2];
  var choiceC = questions[index][3];
  quiz.innerHTML = "<h2>"+question+"</h2>";
  quiz.innerHTML += "<label><input type='radio' name='choices' value='A'> "+choiceA+"</label><br>";
  quiz.innerHTML += "<label><input type='radio' name='choices' value='B'> "+choiceB+"</label><br>";
  quiz.innerHTML += "<label><input type='radio' name='choices' value='C'> "+choiceC+"</label><br><br>";
  quiz.innerHTML += "<button onclick='checkAnswer()' id='btncheck'>Submit</button>";

}

function checkAnswer(){
	var answer = $_GET("answer");
	var btn = $_GET("btncheck");
	var choices = document.getElementsByName("choices");
	for (var j=0; j<choices.length; j++) {
	if (choices[j].checked) { choice = choices[j].value; }
	}
	if (choice == questions[index][4] ) { correct++; }

	if (choice == questions[index][4]){
	answer.innerHTML += "<img src='{{ url_for('static', filename='images/true.png') }}'>"
	}
	if (choice != questions[index][4]){
	answer.innerHTML += "<img src='{{ url_for('static', filename='images/false.png') }}'>"
		}
	i++;  index = orderQst[i];
	if (i < questions.length) { renderQuestion(); } else { renderResults(); }
}

function renderResults(){
  var quiz = $_GET("quiz");
  quiz.innerHTML = "<h2>You got "+correct+" of "+questions.length+" questions correct</h2>";
  $_GET("currentQst").innerHTML = "Test Completed";
  shuffleQuestion();
  correct = 0;
  return false;
}

window.onload = function() {
  shuffleQuestion();
  renderQuestion(i);
}
</script>

</body>
</html>